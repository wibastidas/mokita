(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{"0/6H":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var o=n("A36C"),i=n("iWo5"),r=n("qULd");const s=(e,t)=>{let n,s;const a=(e,o,i)=>{if("undefined"==typeof document)return;const r=document.elementFromPoint(e,o);r&&t(r)?r!==n&&(l(),c(r,i)):l()},c=(e,t)=>{n=e,s||(s=n);const i=n;Object(o.f)(()=>i.classList.add("ion-activated")),t()},l=(e=!1)=>{if(!n)return;const t=n;Object(o.f)(()=>t.classList.remove("ion-activated")),e&&s!==n&&n.click(),n=void 0};return Object(i.createGesture)({el:e,gestureName:"buttonActiveDrag",threshold:0,onStart:e=>a(e.currentX,e.currentY,r.a),onMove:e=>a(e.currentX,e.currentY,r.b),onEnd:()=>{l(!0),Object(r.e)(),s=void 0}})}},"0Z+d":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var o=n("mrSG"),i=n("3Pt+"),r=n("wd/R"),s=n("IzEk"),a=n("fXoL"),c=n("TEn/"),l=n("96Ms"),u=n("UrgT"),m=n("3LUQ"),b=n("lGQG"),d=n("ofXK");function p(e,t){if(1&e&&(a.Nb(0,"div",25),a.nc(1),a.Mb()),2&e){const e=a.Xb().$implicit;a.yb(1),a.pc(" ",e.message," ")}}function f(e,t){if(1&e&&(a.Lb(0),a.mc(1,p,2,1,"div",24),a.Kb()),2&e){const e=t.$implicit,n=a.Xb();a.yb(1),a.ec("ngIf",n.customerForm.get("name").hasError(e.type)&&(n.customerForm.get("name").dirty||n.customerForm.get("name").touched))}}function h(e,t){if(1&e&&(a.Nb(0,"div",25),a.nc(1),a.Mb()),2&e){const e=a.Xb().$implicit;a.yb(1),a.pc(" ",e.message," ")}}function g(e,t){if(1&e&&(a.Lb(0),a.mc(1,h,2,1,"div",24),a.Kb()),2&e){const e=t.$implicit,n=a.Xb();a.yb(1),a.ec("ngIf",n.customerForm.get("lastName").hasError(e.type)&&(n.customerForm.get("lastName").dirty||n.customerForm.get("lastName").touched))}}function y(e,t){if(1&e&&(a.Nb(0,"div",25),a.nc(1),a.Mb()),2&e){const e=a.Xb().$implicit;a.yb(1),a.pc(" ",e.message," ")}}function v(e,t){if(1&e&&(a.Lb(0),a.mc(1,y,2,1,"div",24),a.Kb()),2&e){const e=t.$implicit,n=a.Xb();a.yb(1),a.ec("ngIf",n.customerForm.get("document").hasError(e.type)&&(n.customerForm.get("document").dirty||n.customerForm.get("document").touched))}}function N(e,t){if(1&e&&(a.Nb(0,"div",25),a.nc(1),a.Mb()),2&e){const e=a.Xb().$implicit;a.yb(1),a.pc(" ",e.message," ")}}function M(e,t){if(1&e&&(a.Lb(0),a.mc(1,N,2,1,"div",24),a.Kb()),2&e){const e=t.$implicit,n=a.Xb();a.yb(1),a.ec("ngIf",n.customerForm.get("phoneNumber").hasError(e.type)&&(n.customerForm.get("phoneNumber").dirty||n.customerForm.get("phoneNumber").touched))}}function C(e,t){if(1&e&&(a.Nb(0,"div",25),a.nc(1),a.Mb()),2&e){const e=a.Xb().$implicit;a.yb(1),a.pc(" ",e.message," ")}}function x(e,t){if(1&e&&(a.Lb(0),a.mc(1,C,2,1,"div",24),a.Kb()),2&e){const e=t.$implicit,n=a.Xb();a.yb(1),a.ec("ngIf",n.customerForm.get("address").hasError(e.type)&&(n.customerForm.get("address").dirty||n.customerForm.get("address").touched))}}function w(e,t){if(1&e&&(a.Nb(0,"ion-select-option",26),a.nc(1),a.Mb()),2&e){const e=t.$implicit;a.fc("value",e.uid),a.yb(1),a.pc("",e.displayName||e.email," ")}}function F(e,t){if(1&e&&(a.Nb(0,"div",25),a.nc(1),a.Mb()),2&e){const e=a.Xb().$implicit;a.yb(1),a.pc(" ",e.message," ")}}function I(e,t){if(1&e&&(a.Lb(0),a.mc(1,F,2,1,"div",24),a.Kb()),2&e){const e=t.$implicit,n=a.Xb();a.yb(1),a.ec("ngIf",n.customerForm.get("reference").hasError(e.type)&&(n.customerForm.get("reference").dirty||n.customerForm.get("reference").touched))}}let E=(()=>{class e{constructor(e,t,n,o,s,a,c){this.formBuilder=e,this.alertController=t,this.eventorService=n,this.customersService=o,this.alertService=s,this.authSvc=a,this.modalCtrl=c,this.validation_messages={name:[{type:"required",message:"El nombre es requerido."}],lastName:[{type:"required",message:"El apellido es requerido."}],document:[{type:"required",message:"La c\xe9dula es requerida."}],phoneNumber:[{type:"required",message:"El celular es requerido."}],address:[{type:"required",message:"La direcci\xf3n es requerida."}],email:[{type:"required",message:"El correo es requerido."},{type:"pattern",message:"Este no es un email v\xe1lido."}],reference:[{type:"required",message:"La referencia es requerida."}]},this.customerForm=this.formBuilder.group({name:new i.b("",i.m.compose([i.m.required])),lastName:new i.b("",i.m.compose([i.m.required])),document:new i.b("",i.m.compose([i.m.required])),phoneNumber:new i.b("",i.m.compose([i.m.required])),address:new i.b("",i.m.compose([i.m.required])),email:new i.b("",i.m.compose([i.m.email,i.m.pattern("^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+.[a-zA-Z0-9-.]+$")])),reference:new i.b("",i.m.compose([])),createdAt:new i.b(r().format("ll")),createdBy:null})}ngOnDestroy(){window.history.state.modal&&history.back()}dismissModal(){console.log("dismissModal"),this.modalCtrl.dismiss()}ngOnInit(){}alertConfirm(e){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"Confirmar!",message:"Registrar <strong>nuevo cliente</strong>",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{}},{text:"Ok",handler:()=>{console.log("createCustomer: ",e),this.createCustomer(e)}}]});yield t.present()}))}createCustomer(e){e.createdBy=this.authSvc.getLoggedUser().uid,this.authSvc.getLoggedUser().createdBy?(e.adminId=this.authSvc.getLoggedUser().createdBy,e.cobradorId=this.authSvc.getLoggedUser().uid):(e.adminId=this.authSvc.getLoggedUser().uid,e.cobradorId=null),this.customersService.getCustomerByDocument(e.document).pipe(Object(s.a)(1)).subscribe(t=>Object(o.a)(this,void 0,void 0,(function*(){console.log("cliente: ",t),t.length>0?this.alertService.presentToast("El numero de c\xe9dula ya fue registrado.",2e3,"top","primary"):yield this.customersService.createNewCustomer(e).then(e=>{console.log("res: ",e)}),this.dismissModal()})))}}return e.\u0275fac=function(t){return new(t||e)(a.Ib(i.a),a.Ib(c.b),a.Ib(l.a),a.Ib(u.a),a.Ib(m.a),a.Ib(b.a),a.Ib(c.T))},e.\u0275cmp=a.Cb({type:e,selectors:[["app-new-customer"]],hostBindings:function(e,t){1&e&&a.Vb("popstate",(function(e){return t.dismissModal(e)}),!1,a.ic)},decls:65,vars:9,consts:[["slot","end"],["color","primary",3,"click"],["fullscreen",""],[1,"new-customer-page",3,"formGroup","ngSubmit"],[1,"ios","hydrated"],["position","floating","color","primary"],["type","text","formControlName","name"],["size","small","name","person-outline","color","primary","slot","end",1,"ion-align-self-center"],[1,"validation-errors"],[4,"ngFor","ngForOf"],["type","text","formControlName","lastName"],["size","small","name","person-circle-outline","color","primary","slot","end",1,"ion-align-self-center"],["type","number","formControlName","document"],["size","small","name","wallet-outline","color","primary","slot","end",1,"ion-align-self-center"],["type","tel","formControlName","phoneNumber"],["size","small","name","phone-portrait-outline","color","primary","slot","end",1,"ion-align-self-center"],["type","text","formControlName","address"],["size","small","name","map-outline","color","primary","slot","end",1,"ion-align-self-center"],["type","text","formControlName","reference"],["size","small","name","reader-outline","color","primary","slot","end",1,"ion-align-self-center"],["okText","Seleccionar","cancelText","Cancelar"],[3,"value",4,"ngFor","ngForOf"],[1,"ion-text-center"],["expand","round","fill","outline","type","submit",3,"disabled"],["class","error-message ion-padding-start",4,"ngIf"],[1,"error-message","ion-padding-start"],[3,"value"]],template:function(e,t){1&e&&(a.Nb(0,"ion-header"),a.Nb(1,"ion-toolbar"),a.Nb(2,"ion-title"),a.nc(3,"Crear Cliente"),a.Mb(),a.Nb(4,"ion-buttons",0),a.Nb(5,"ion-button",1),a.Vb("click",(function(){return t.dismissModal()})),a.nc(6,"Cerrar"),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Nb(7,"ion-content",2),a.Nb(8,"form",3),a.Vb("ngSubmit",(function(){return t.createCustomer(t.customerForm.value)})),a.Nb(9,"ion-list-header",4),a.nc(10," Informaci\xf3n Personal "),a.Mb(),a.Nb(11,"ion-item"),a.Nb(12,"ion-label",5),a.nc(13,"Nombre: "),a.Mb(),a.Jb(14,"ion-input",6),a.Jb(15,"ion-icon",7),a.Mb(),a.Nb(16,"div",8),a.mc(17,f,2,1,"ng-container",9),a.Mb(),a.Nb(18,"ion-item"),a.Nb(19,"ion-label",5),a.nc(20,"Apellido: "),a.Mb(),a.Jb(21,"ion-input",10),a.Jb(22,"ion-icon",11),a.Mb(),a.Nb(23,"div",8),a.mc(24,g,2,1,"ng-container",9),a.Mb(),a.Nb(25,"ion-item"),a.Nb(26,"ion-label",5),a.nc(27,"C\xe9dula: "),a.Mb(),a.Jb(28,"ion-input",12),a.Jb(29,"ion-icon",13),a.Mb(),a.Nb(30,"div",8),a.mc(31,v,2,1,"ng-container",9),a.Mb(),a.Nb(32,"ion-list-header",4),a.nc(33," Datos de Contacto "),a.Mb(),a.Nb(34,"ion-item"),a.Nb(35,"ion-label",5),a.nc(36,"Celular: "),a.Mb(),a.Jb(37,"ion-input",14),a.Jb(38,"ion-icon",15),a.Mb(),a.Nb(39,"div",8),a.mc(40,M,2,1,"ng-container",9),a.Mb(),a.Nb(41,"ion-item"),a.Nb(42,"ion-label",5),a.nc(43,"Direcci\xf3n: "),a.Mb(),a.Jb(44,"ion-input",16),a.Jb(45,"ion-icon",17),a.Mb(),a.Nb(46,"div",8),a.mc(47,x,2,1,"ng-container",9),a.Mb(),a.Nb(48,"ion-item"),a.Nb(49,"ion-label",5),a.nc(50,"Referencia: "),a.Mb(),a.Jb(51,"ion-input",18),a.Jb(52,"ion-icon",19),a.Mb(),a.Nb(53,"ion-list-header",4),a.nc(54," Cobrador "),a.Mb(),a.Nb(55,"ion-item"),a.Nb(56,"ion-label"),a.nc(57,"Seleccionar Cobrador"),a.Mb(),a.Nb(58,"ion-select",20),a.mc(59,w,2,2,"ion-select-option",21),a.Mb(),a.Mb(),a.Nb(60,"div",8),a.mc(61,I,2,1,"ng-container",9),a.Mb(),a.Nb(62,"div",22),a.Nb(63,"ion-button",23),a.nc(64,"Guardar"),a.Mb(),a.Mb(),a.Mb(),a.Mb()),2&e&&(a.yb(8),a.ec("formGroup",t.customerForm),a.yb(9),a.ec("ngForOf",t.validation_messages.name),a.yb(7),a.ec("ngForOf",t.validation_messages.lastName),a.yb(7),a.ec("ngForOf",t.validation_messages.document),a.yb(9),a.ec("ngForOf",t.validation_messages.phoneNumber),a.yb(7),a.ec("ngForOf",t.validation_messages.address),a.yb(12),a.ec("ngForOf",t.cobradores),a.yb(2),a.ec("ngForOf",t.validation_messages.reference),a.yb(2),a.ec("disabled",t.customerForm.invalid))},directives:[c.s,c.Q,c.P,c.i,c.h,c.p,i.n,i.i,i.d,c.C,c.v,c.A,c.u,c.Y,i.h,i.c,c.t,d.k,c.U,c.I,c.X,d.l,c.J],styles:[".new-customer-page[_ngcontent-%COMP%]   .validation-errors[_ngcontent-%COMP%]   .error-message[_ngcontent-%COMP%]{color:var(--ion-color-danger);font-size:14px}"]}),e})()},"6c4d":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("fXoL");let i=(()=>{class e{constructor(){}canReadUser(e){return this.checkAuthorization(e,["admin"])}canCreateUser(e){return this.checkAuthorization(e,["admin"])}canEditUser(e){return this.checkAuthorization(e,["admin"])}canDeleteUser(e){return this.checkAuthorization(e,["admin"])}canReadCustomer(e){return this.checkAuthorization(e,["admin","cobrador"])}canCreateCustomer(e){return this.checkAuthorization(e,["admin","cobrador"])}canEditCustomer(e){return this.checkAuthorization(e,["admin","cobrador"])}canDeleteCustomer(e){return this.checkAuthorization(e,["admin"])}canEditCustomerVendor(e){return this.checkAuthorization(e,["admin"])}canReadExpense(e){return this.checkAuthorization(e,["admin","cobrador"])}canCreateExpense(e){return this.checkAuthorization(e,["admin","cobrador"])}canEditExpense(e){return this.checkAuthorization(e,["admin"])}canDeleteExpense(e){return this.checkAuthorization(e,["admin"])}canReadSale(e){return this.checkAuthorization(e,["admin","cobrador"])}canCreateSale(e){return this.checkAuthorization(e,["admin"])}canEditSale(e){return this.checkAuthorization(e,["admin"])}canDeleteSale(e){return this.checkAuthorization(e,["admin"])}canReadAbono(e){return this.checkAuthorization(e,["admin","cobrador"])}canCreateAbono(e){return this.checkAuthorization(e,["admin","cobrador"])}canEditAbono(e){return this.checkAuthorization(e,["admin"])}canDeleteAbono(e){return this.checkAuthorization(e,["admin"])}checkAuthorization(e,t){if(!e)return!1;for(const n of t)if(e.roles[n])return!0;return!1}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},"74mu":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return a}));const o=(e,t)=>null!==t.closest(e),i=(e,t)=>"string"==typeof e&&e.length>0?Object.assign({"ion-color":!0,["ion-color-"+e]:!0},t):t,r=e=>{const t={};return(e=>void 0!==e?(Array.isArray(e)?e:e.split(" ")).filter(e=>null!=e).map(e=>e.trim()).filter(e=>""!==e):[])(e).forEach(e=>t[e]=!0),t},s=/^[a-z][a-z0-9+\-.]*:/,a=async(e,t,n,o)=>{if(null!=e&&"#"!==e[0]&&!s.test(e)){const i=document.querySelector("ion-router");if(i)return null!=t&&t.preventDefault(),i.push(e,n,o)}return!1}},"96Ms":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var o=n("fXoL");let i=(()=>{class e{constructor(){this.events=[]}emit(e,t){this.events[e]||(this.events[e]=new o.n),this.events[e].emit(t)}getEmitter(e){return this.events[e]||(this.events[e]=new o.n),this.events[e]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=o.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},ARc2:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n("mrSG"),i=n("3Pt+"),r=n("wd/R"),s=n("fXoL"),a=n("TEn/"),c=n("3LUQ"),l=n("ccOi"),u=n("ofXK");function m(e,t){if(1&e&&(s.Nb(0,"div"),s.nc(1),s.Mb()),2&e){const e=s.Xb().$implicit;s.yb(1),s.pc(" ",e.message," ")}}function b(e,t){if(1&e&&(s.Lb(0),s.mc(1,m,2,1,"div",19),s.Kb()),2&e){const e=t.$implicit,n=s.Xb();s.yb(1),s.ec("ngIf",n.saleForm.get("amount").hasError(e.type)&&(n.saleForm.get("amount").dirty||n.saleForm.get("amount").touched))}}function d(e,t){if(1&e&&(s.Nb(0,"div"),s.nc(1),s.Mb()),2&e){const e=s.Xb().$implicit;s.yb(1),s.pc(" ",e.message," ")}}function p(e,t){if(1&e&&(s.Lb(0),s.mc(1,d,2,1,"div",19),s.Kb()),2&e){const e=t.$implicit,n=s.Xb();s.yb(1),s.ec("ngIf",n.saleForm.get("porcentaje").hasError(e.type)&&(n.saleForm.get("porcentaje").dirty||n.saleForm.get("porcentaje").touched))}}function f(e,t){if(1&e&&(s.Nb(0,"div"),s.nc(1),s.Mb()),2&e){const e=s.Xb().$implicit;s.yb(1),s.pc(" ",e.message," ")}}function h(e,t){if(1&e&&(s.Lb(0),s.mc(1,f,2,1,"div",19),s.Kb()),2&e){const e=t.$implicit,n=s.Xb();s.yb(1),s.ec("ngIf",n.saleForm.get("numeroCuotas").hasError(e.type)&&(n.saleForm.get("numeroCuotas").dirty||n.saleForm.get("numeroCuotas").touched))}}let g=(()=>{class e{constructor(e,t,n,o,r){this.formBuilder=e,this.alertController=t,this.alertService=n,this.modalCtrl=o,this.salesService=r,this.validation_messages={amount:[{type:"required",message:"El monto es requerido."}],numeroCuotas:[{type:"required",message:"El n\xfamero de cuotas es requerida."}],porcentaje:[{type:"required",message:"El % de inter\xe9s es requerido."}]},this.saleForm=this.formBuilder.group({amount:new i.b("",i.m.compose([i.m.required])),numeroCuotas:new i.b("",i.m.compose([i.m.required])),porcentaje:new i.b("",i.m.compose([i.m.required])),cuotas:new i.b([],i.m.compose([i.m.required])),montoConInteres:new i.b("",i.m.compose([i.m.required])),montoCuota:new i.b({value:"",disabled:!0},i.m.compose([i.m.required])),estado:new i.b({value:"",disabled:!0},i.m.compose([i.m.required])),createdAt:new i.b({value:"",disabled:!0},i.m.compose([i.m.required])),customerId:new i.b("",i.m.compose([i.m.required])),cuotasPagadas:new i.b("",i.m.compose([i.m.required])),cuotasPendientes:new i.b("",i.m.compose([i.m.required])),intereses:new i.b("",i.m.compose([i.m.required])),updatedAt:new i.b(""),id:new i.b(""),abonos:new i.b(""),saldo:new i.b(""),vencimiento:new i.b({value:"",disabled:!0},i.m.compose([i.m.required]))})}ngOnDestroy(){window.history.state.modal&&history.back()}dismissModal(){console.log("dismissModal"),this.modalCtrl.dismiss(this.sale)}ngOnInit(){this.saleForm.setValue(this.sale),this.montoCuota=this.saleForm.get("montoCuota").value,this.saleForm.valueChanges.subscribe(e=>{this.saleForm.get("amount")&&this.saleForm.get("numeroCuotas")&&this.saleForm.get("porcentaje")&&this.calcularMontoCuota()})}updateSaleConfirm(e){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"Confirmar!",message:"Actualizar <strong>pr\xe9stamo</strong>",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{console.log("Cancelar")}},{text:"Ok",handler:()=>{this.updateSale(e)}}]});yield t.present()}))}updateSale(e){return Object(o.a)(this,void 0,void 0,(function*(){console.log("sale: ",e),e.updatedAt=r().format("llll"),e.cuotas=this.createCuotas(e.numeroCuotas),e.intereses=e.amount*e.porcentaje/100,e.montoConInteres=e.amount+e.intereses,e.montoCuota=e.montoConInteres/e.numeroCuotas,e.cuotasPagadas=0,e.cuotasPendientes=e.numeroCuotas,e.estado="Active",e.vencimiento=e.cuotas[e.numeroCuotas-1].date,e.cuotasPendientes=e.saldo/e.montoCuota,e.cuotasPagadas=e.numeroCuotas-e.cuotasPendientes,e.saldo=this.calcularSaldoPendiente(e),yield this.salesService.updateSale(e).then(e=>{this.dismissModal()})}))}calcularSaldoPendiente(e){let t=e.montoConInteres;return e&&e.abonos&&e.abonos.length>0&&(t=e.montoConInteres-this.calcularAbonos(e.abonos)),t}calcularAbonos(e){return e.reduce((e,t)=>e+t.monto,0)}createCuotas(e){let t,n=[],o=e;for(t=1;t<=o;t++)"domingo"!==r(r().add(t,"days").format("YYYY-MM-DD")).format("dddd")?n.push({cuota:n.length+1,date:r().add(t,"days").format("ll"),fechaPago:null}):o+=1;return n}calcularMontoCuota(){let e=this.saleForm.get("amount").value*this.saleForm.get("porcentaje").value/100,t=this.saleForm.get("amount").value+e;this.montoCuota=t/this.saleForm.get("numeroCuotas").value}}return e.\u0275fac=function(t){return new(t||e)(s.Ib(i.a),s.Ib(a.b),s.Ib(c.a),s.Ib(a.T),s.Ib(l.a))},e.\u0275cmp=s.Cb({type:e,selectors:[["app-edit-sale"]],hostBindings:function(e,t){1&e&&s.Vb("popstate",(function(e){return t.dismissModal(e)}),!1,s.ic)},inputs:{sale:"sale"},decls:46,vars:6,consts:[["slot","end"],["color","primary",3,"click"],[1,"sale-detail-page"],[3,"formGroup","ngSubmit"],["lines","inset"],["type","text","formControlName","estado"],["size","small","name","shield-outline","color","primary","slot","end",1,"ion-align-self-center"],["type","number","formControlName","amount"],["size","small","name","cash-outline","color","primary","slot","end",1,"ion-align-self-center"],[1,"validation-errors"],[4,"ngFor","ngForOf"],["type","number","formControlName","porcentaje"],["size","small","name","wallet-outline","color","primary","slot","end",1,"ion-align-self-center"],["type","number","formControlName","numeroCuotas"],["size","small","name","sync-outline","color","primary","slot","end",1,"ion-align-self-center"],["type","text","formControlName","montoCuota",3,"value"],["size","small","name","card-outline","color","primary","slot","end",1,"ion-align-self-center"],[1,"ion-text-center"],["expand","round","type","submit",3,"disabled"],[4,"ngIf"]],template:function(e,t){1&e&&(s.Nb(0,"ion-header"),s.Nb(1,"ion-toolbar"),s.Nb(2,"ion-title"),s.nc(3,"Editar Pr\xe9stamo"),s.Mb(),s.Nb(4,"ion-buttons",0),s.Nb(5,"ion-button",1),s.Vb("click",(function(){return t.dismissModal()})),s.nc(6,"Cerrar"),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(7,"ion-content",2),s.Nb(8,"form",3),s.Vb("ngSubmit",(function(){return t.updateSaleConfirm(t.saleForm.value)})),s.Nb(9,"ion-list-header",4),s.Nb(10,"ion-label"),s.nc(11,"Pr\xe9stamo"),s.Mb(),s.Mb(),s.Nb(12,"ion-item"),s.Nb(13,"ion-label"),s.nc(14,"Estado: "),s.Mb(),s.Jb(15,"ion-input",5),s.Jb(16,"ion-icon",6),s.Mb(),s.Nb(17,"ion-item"),s.Nb(18,"ion-label"),s.nc(19,"Monto: "),s.Mb(),s.Jb(20,"ion-input",7),s.Jb(21,"ion-icon",8),s.Mb(),s.Nb(22,"div",9),s.mc(23,b,2,1,"ng-container",10),s.Mb(),s.Nb(24,"ion-item"),s.Nb(25,"ion-label"),s.nc(26,"% Inter\xe9s: "),s.Mb(),s.Jb(27,"ion-input",11),s.Jb(28,"ion-icon",12),s.Mb(),s.Nb(29,"div",9),s.mc(30,p,2,1,"ng-container",10),s.Mb(),s.Nb(31,"ion-item"),s.Nb(32,"ion-label"),s.nc(33,"N\xfamero de cuotas: "),s.Mb(),s.Jb(34,"ion-input",13),s.Jb(35,"ion-icon",14),s.Mb(),s.Nb(36,"div",9),s.mc(37,h,2,1,"ng-container",10),s.Mb(),s.Nb(38,"ion-item"),s.Nb(39,"ion-label"),s.nc(40,"Monto de la Cuota: "),s.Mb(),s.Jb(41,"ion-input",15),s.Jb(42,"ion-icon",16),s.Mb(),s.Nb(43,"div",17),s.Nb(44,"ion-button",18),s.nc(45,"Actualizar"),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&e&&(s.yb(8),s.ec("formGroup",t.saleForm),s.yb(15),s.ec("ngForOf",t.validation_messages.amount),s.yb(7),s.ec("ngForOf",t.validation_messages.porcentaje),s.yb(7),s.ec("ngForOf",t.validation_messages.numeroCuotas),s.yb(4),s.ec("value",t.montoCuota),s.yb(3),s.ec("disabled",t.saleForm.invalid))},directives:[a.s,a.Q,a.P,a.i,a.h,a.p,i.n,i.i,i.d,a.C,a.A,a.v,a.u,a.Y,i.h,i.c,a.t,a.U,u.k,u.l],styles:[""]}),e})()},PCNd:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var o=n("ofXK"),i=n("TEn/"),r=n("tyNb"),s=n("fXoL");const a=[];let c=(()=>{class e{}return e.\u0275mod=s.Gb({type:e}),e.\u0275inj=s.Fb({factory:function(t){return new(t||e)},imports:[[r.j.forChild(a),o.c],r.j]}),e})(),l=(()=>{class e{}return e.\u0275mod=s.Gb({type:e}),e.\u0275inj=s.Fb({factory:function(t){return new(t||e)},imports:[[o.c,c,i.R]]}),e})()},UrgT:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fXoL"),i=n("I/3d");let r=(()=>{class e{constructor(e){this.firestore=e}getCustomerById(e){return this.firestore.doc("/customers/"+e).valueChanges()}getCustomersNew(){return this.firestore.collection("customers").snapshotChanges()}getCustomersByAdmin(e){return this.firestore.collection("customers",t=>t.where("adminId","==",e)).snapshotChanges()}getCustomersByCobrador(e){return this.firestore.collection("customers",t=>t.where("cobradorId","==",e)).snapshotChanges()}getCustomerByDocument(e){return this.firestore.collection("customers",t=>t.where("document","==",e)).snapshotChanges()}createNewCustomer(e){let t=this.firestore.createId();return this.firestore.collection("customers").doc(t).set(e)}updateCustomer(e){return this.firestore.doc("customers/"+e.id).update(e)}deleteCustomer(e){return this.firestore.doc("customers/"+e).delete()}getVendedoresByAdmin(e){return this.firestore.collection("users",t=>t.where("createdBy","==",e)).snapshotChanges()}getSalesByCustomerId(e){return this.firestore.collection("sales",t=>t.where("customerId","==",e).where("estado","==","Active")).snapshotChanges()}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(i.a))},e.\u0275prov=o.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},Wgqb:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n("3Pt+"),i=n("wd/R"),r=n("fXoL"),s=n("TEn/"),a=n("otNS"),c=n("3LUQ"),l=n("lGQG"),u=n("6c4d"),m=n("ofXK");function b(e,t){if(1&e&&(r.Nb(0,"div",21),r.nc(1),r.Mb()),2&e){const e=r.Xb().$implicit;r.yb(1),r.pc(" ",e.message," ")}}function d(e,t){if(1&e&&(r.Lb(0),r.mc(1,b,2,1,"div",20),r.Kb()),2&e){const e=t.$implicit,n=r.Xb();r.yb(1),r.ec("ngIf",n.expenseForm.get("concept").hasError(e.type)&&(n.expenseForm.get("concept").dirty||n.expenseForm.get("concept").touched))}}function p(e,t){if(1&e&&(r.Nb(0,"div",21),r.nc(1),r.Mb()),2&e){const e=r.Xb().$implicit;r.yb(1),r.pc(" ",e.message," ")}}function f(e,t){if(1&e&&(r.Lb(0),r.mc(1,p,2,1,"div",20),r.Kb()),2&e){const e=t.$implicit,n=r.Xb();r.yb(1),r.ec("ngIf",n.expenseForm.get("amount").hasError(e.type)&&(n.expenseForm.get("amount").dirty||n.expenseForm.get("amount").touched))}}function h(e,t){if(1&e&&(r.Nb(0,"ion-button",22),r.nc(1,"Actualizar"),r.Mb()),2&e){const e=r.Xb();r.ec("disabled",e.expenseForm.invalid)}}let g=(()=>{class e{constructor(e,t,n,r,s,a){this.modalCtrl=e,this.expenseService=t,this.alertService=n,this.authSvc=r,this.roleAutorization=s,this.formBuilder=a,this.validation_messages={concept:[{type:"required",message:"El concepto es requerido."}],amount:[{type:"required",message:"El monto es requerido."}]},this.expenseForm=this.formBuilder.group({concept:new o.b("",o.m.compose([o.m.required])),amount:new o.b("",o.m.compose([o.m.required])),description:new o.b("",o.m.compose([])),createdAt:new o.b(i().format("ll")),updatedAt:new o.b(i().format("llll")),id:new o.b("")})}ngOnInit(){this.expenseForm.setValue(this.expense)}ngOnDestroy(){window.history.state.modal&&history.back()}dismissModal(e){this.modalCtrl.dismiss({dismissed:e})}updateExpense(){this.expense.updatedAt=i().format("llll"),this.expenseService.updateExpense(this.expenseForm.value).then(e=>this.dismissModal(!0))}}return e.\u0275fac=function(t){return new(t||e)(r.Ib(s.T),r.Ib(a.a),r.Ib(c.a),r.Ib(l.a),r.Ib(u.a),r.Ib(o.a))},e.\u0275cmp=r.Cb({type:e,selectors:[["app-expense-detail"]],hostBindings:function(e,t){1&e&&r.Vb("popstate",(function(e){return t.dismissModal(e)}),!1,r.ic)},inputs:{expense:"expense"},decls:41,vars:4,consts:[["slot","end"],["color","primary",3,"click"],["fullscreen",""],[1,"new-expense-page",3,"formGroup","ngSubmit"],["formControlName","concept","placeholder","Seleccionar"],["value","Gasolina"],["value","Almuerzo"],["value","Recarga Celular"],["value","Pago de Nomina"],["value","Taller"],["value","Otros"],[1,"validation-errors"],[4,"ngFor","ngForOf"],["position","floating","color","primary"],["type","number","formControlName","amount"],["size","small","name","cash-outline","color","primary","slot","end",1,"ion-align-self-center"],["type","text","formControlName","description"],["size","small","name","reader-outline","color","primary","slot","end",1,"ion-align-self-center"],[1,"ion-text-center"],["fill","outline","expand","round","type","submit",3,"disabled",4,"ngIf"],["class","error-message ion-padding-start",4,"ngIf"],[1,"error-message","ion-padding-start"],["fill","outline","expand","round","type","submit",3,"disabled"]],template:function(e,t){1&e&&(r.Nb(0,"ion-header"),r.Nb(1,"ion-toolbar"),r.Nb(2,"ion-title"),r.nc(3,"Detalle del Gasto"),r.Mb(),r.Nb(4,"ion-buttons",0),r.Nb(5,"ion-button",1),r.Vb("click",(function(){return t.dismissModal(!1)})),r.nc(6,"Cerrar"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(7,"ion-content",2),r.Nb(8,"form",3),r.Vb("ngSubmit",(function(){return t.updateExpense()})),r.Nb(9,"ion-item"),r.Nb(10,"ion-label"),r.nc(11,"Concepto"),r.Mb(),r.Nb(12,"ion-select",4),r.Nb(13,"ion-select-option",5),r.nc(14,"Gasolina"),r.Mb(),r.Nb(15,"ion-select-option",6),r.nc(16,"Almuerzo"),r.Mb(),r.Nb(17,"ion-select-option",7),r.nc(18,"Recarga Celular"),r.Mb(),r.Nb(19,"ion-select-option",8),r.nc(20,"Pago de Nomina"),r.Mb(),r.Nb(21,"ion-select-option",9),r.nc(22,"Taller"),r.Mb(),r.Nb(23,"ion-select-option",10),r.nc(24,"Otros"),r.Mb(),r.Mb(),r.Mb(),r.Nb(25,"div",11),r.mc(26,d,2,1,"ng-container",12),r.Mb(),r.Nb(27,"ion-item"),r.Nb(28,"ion-label",13),r.nc(29,"Monto: "),r.Mb(),r.Jb(30,"ion-input",14),r.Jb(31,"ion-icon",15),r.Mb(),r.Nb(32,"div",11),r.mc(33,f,2,1,"ng-container",12),r.Mb(),r.Nb(34,"ion-item"),r.Nb(35,"ion-label",13),r.nc(36,"Descripci\xf3n: "),r.Mb(),r.Jb(37,"ion-input",16),r.Jb(38,"ion-icon",17),r.Mb(),r.Nb(39,"div",18),r.mc(40,h,2,1,"ion-button",19),r.Mb(),r.Mb(),r.Mb()),2&e&&(r.yb(8),r.ec("formGroup",t.expenseForm),r.yb(18),r.ec("ngForOf",t.validation_messages.concept),r.yb(7),r.ec("ngForOf",t.validation_messages.amount),r.yb(7),r.ec("ngIf",t.roleAutorization.canEditExpense(t.authSvc.getLoggedUser())))},directives:[s.s,s.Q,s.P,s.i,s.h,s.p,o.n,o.i,o.d,s.v,s.A,s.I,s.X,o.h,o.c,s.J,m.k,s.u,s.U,s.t,s.Y,m.l],styles:[""]}),e})()},ZaV5:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));const o=async(e,t,n,o,i)=>{if(e)return e.attachViewToDom(t,n,i,o);if("string"!=typeof n&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const r="string"==typeof n?t.ownerDocument&&t.ownerDocument.createElement(n):n;return o&&o.forEach(e=>r.classList.add(e)),i&&Object.assign(r,i),t.appendChild(r),r.componentOnReady&&await r.componentOnReady(),r},i=(e,t)=>{if(t){if(e)return e.removeViewFromDom(t.parentElement,t);t.remove()}return Promise.resolve()}},b1s6:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fXoL"),i=n("TEn/");let r=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=o.Cb({type:e,selectors:[["app-skeleton"]],decls:65,vars:0,consts:[[1,"skeleton-component"],["animated","",2,"width","20%"],["slot","start"],["animated",""],["animated","",2,"width","50%"],["animated","",2,"width","80%"],["animated","",2,"width","60%"]],template:function(e,t){1&e&&(o.Nb(0,"div",0),o.Nb(1,"ion-list"),o.Nb(2,"ion-list-header"),o.Nb(3,"ion-label"),o.Jb(4,"ion-skeleton-text",1),o.Mb(),o.Mb(),o.Nb(5,"ion-item"),o.Nb(6,"ion-avatar",2),o.Jb(7,"ion-skeleton-text",3),o.Mb(),o.Nb(8,"ion-label"),o.Nb(9,"h3"),o.Jb(10,"ion-skeleton-text",4),o.Mb(),o.Nb(11,"p"),o.Jb(12,"ion-skeleton-text",5),o.Mb(),o.Nb(13,"p"),o.Jb(14,"ion-skeleton-text",6),o.Mb(),o.Mb(),o.Mb(),o.Nb(15,"ion-item"),o.Nb(16,"ion-avatar",2),o.Jb(17,"ion-skeleton-text",3),o.Mb(),o.Nb(18,"ion-label"),o.Nb(19,"h3"),o.Jb(20,"ion-skeleton-text",4),o.Mb(),o.Nb(21,"p"),o.Jb(22,"ion-skeleton-text",5),o.Mb(),o.Nb(23,"p"),o.Jb(24,"ion-skeleton-text",6),o.Mb(),o.Mb(),o.Mb(),o.Nb(25,"ion-item"),o.Nb(26,"ion-avatar",2),o.Jb(27,"ion-skeleton-text",3),o.Mb(),o.Nb(28,"ion-label"),o.Nb(29,"h3"),o.Jb(30,"ion-skeleton-text",4),o.Mb(),o.Nb(31,"p"),o.Jb(32,"ion-skeleton-text",5),o.Mb(),o.Nb(33,"p"),o.Jb(34,"ion-skeleton-text",6),o.Mb(),o.Mb(),o.Mb(),o.Nb(35,"ion-item"),o.Nb(36,"ion-avatar",2),o.Jb(37,"ion-skeleton-text",3),o.Mb(),o.Nb(38,"ion-label"),o.Nb(39,"h3"),o.Jb(40,"ion-skeleton-text",4),o.Mb(),o.Nb(41,"p"),o.Jb(42,"ion-skeleton-text",5),o.Mb(),o.Nb(43,"p"),o.Jb(44,"ion-skeleton-text",6),o.Mb(),o.Mb(),o.Mb(),o.Nb(45,"ion-item"),o.Nb(46,"ion-avatar",2),o.Jb(47,"ion-skeleton-text",3),o.Mb(),o.Nb(48,"ion-label"),o.Nb(49,"h3"),o.Jb(50,"ion-skeleton-text",4),o.Mb(),o.Nb(51,"p"),o.Jb(52,"ion-skeleton-text",5),o.Mb(),o.Nb(53,"p"),o.Jb(54,"ion-skeleton-text",6),o.Mb(),o.Mb(),o.Mb(),o.Nb(55,"ion-item"),o.Nb(56,"ion-avatar",2),o.Jb(57,"ion-skeleton-text",3),o.Mb(),o.Nb(58,"ion-label"),o.Nb(59,"h3"),o.Jb(60,"ion-skeleton-text",4),o.Mb(),o.Nb(61,"p"),o.Jb(62,"ion-skeleton-text",5),o.Mb(),o.Nb(63,"p"),o.Jb(64,"ion-skeleton-text",6),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb())},directives:[i.B,i.C,i.A,i.K,i.v,i.d],styles:[".skeleton-component[_ngcontent-%COMP%]   .custom-skeleton[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]{line-height:13px}.skeleton-component[_ngcontent-%COMP%]   .custom-skeleton[_ngcontent-%COMP%]   ion-skeleton-text[_ngcontent-%COMP%]:last-child{margin-bottom:5px}"]}),e})()},ccOi:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fXoL"),i=n("I/3d");let r=(()=>{class e{constructor(e){this.firestore=e}getSales(){return this.firestore.collection("sales").snapshotChanges()}getSaleById(e){return this.firestore.doc("/sales/"+e).valueChanges()}getSalesByCustomerId(e){return this.firestore.collection("sales",t=>t.where("customerId","==",e)).snapshotChanges()}createNewSale(e){console.log("createNewSale",e);let t=this.firestore.createId();return this.firestore.collection("sales").doc(t).set(e)}updateSale(e){return this.firestore.doc("sales/"+e.id).update(e)}deleteSale(e){return this.firestore.doc("sales/"+e).delete()}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(i.a))},e.\u0275prov=o.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},h3R7:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));const o={bubbles:{dur:1e3,circles:9,fn:(e,t,n)=>{const o=e*t/n-e+"ms",i=2*Math.PI*t/n;return{r:5,style:{top:9*Math.sin(i)+"px",left:9*Math.cos(i)+"px","animation-delay":o}}}},circles:{dur:1e3,circles:8,fn:(e,t,n)=>{const o=t/n,i=e*o-e+"ms",r=2*Math.PI*o;return{r:5,style:{top:9*Math.sin(r)+"px",left:9*Math.cos(r)+"px","animation-delay":i}}}},circular:{dur:1400,elmDuration:!0,circles:1,fn:()=>({r:20,cx:48,cy:48,fill:"none",viewBox:"24 24 48 48",transform:"translate(0,0)",style:{}})},crescent:{dur:750,circles:1,fn:()=>({r:26,style:{}})},dots:{dur:750,circles:3,fn:(e,t)=>({r:6,style:{left:9-9*t+"px","animation-delay":-110*t+"ms"}})},lines:{dur:1e3,lines:12,fn:(e,t,n)=>({y1:17,y2:29,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})},"lines-small":{dur:1e3,lines:12,fn:(e,t,n)=>({y1:12,y2:20,style:{transform:`rotate(${30*t+(t<6?180:-180)}deg)`,"animation-delay":e*t/n-e+"ms"}})}}},otNS:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var o=n("fXoL"),i=n("I/3d");let r=(()=>{class e{constructor(e){this.firestore=e}getExpensesNew(){return this.firestore.collection("expenses").snapshotChanges()}getExpensesByAdmin(e){return this.firestore.collection("expenses",t=>t.where("adminId","==",e)).snapshotChanges()}getExpensesByCobrador(e){return this.firestore.collection("expenses",t=>t.where("createdBy","==",e)).snapshotChanges()}createNewExpense(e){let t=this.firestore.createId();return this.firestore.collection("expenses").doc(t).set(e)}updateExpense(e){return this.firestore.doc("expenses/"+e.id).update(e)}deleteExpense(e){return this.firestore.doc("expenses/"+e).delete()}}return e.\u0275fac=function(t){return new(t||e)(o.Rb(i.a))},e.\u0275prov=o.Eb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()},qULd:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return a}));const o={getEngine(){const e=window;return e.TapticEngine||e.Capacitor&&e.Capacitor.isPluginAvailable("Haptics")&&e.Capacitor.Plugins.Haptics},available(){return!!this.getEngine()},isCordova:()=>!!window.TapticEngine,isCapacitor:()=>!!window.Capacitor,impact(e){const t=this.getEngine();if(!t)return;const n=this.isCapacitor()?e.style.toUpperCase():e.style;t.impact({style:n})},notification(e){const t=this.getEngine();if(!t)return;const n=this.isCapacitor()?e.style.toUpperCase():e.style;t.notification({style:n})},selection(){this.impact({style:"light"})},selectionStart(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionStart():e.gestureSelectionStart())},selectionChanged(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionChanged():e.gestureSelectionChanged())},selectionEnd(){const e=this.getEngine();e&&(this.isCapacitor()?e.selectionEnd():e.gestureSelectionEnd())}},i=()=>{o.selection()},r=()=>{o.selectionStart()},s=()=>{o.selectionChanged()},a=()=>{o.selectionEnd()},c=e=>{o.impact(e)}},z0XX:function(e,t,n){"use strict";n.d(t,"a",(function(){return g}));var o=n("mrSG"),i=n("3Pt+"),r=n("wd/R"),s=n("fXoL"),a=n("TEn/"),c=n("96Ms"),l=n("otNS"),u=n("3LUQ"),m=n("lGQG"),b=n("ofXK");function d(e,t){if(1&e&&(s.Nb(0,"div",22),s.nc(1),s.Mb()),2&e){const e=s.Xb().$implicit;s.yb(1),s.pc(" ",e.message," ")}}function p(e,t){if(1&e&&(s.Lb(0),s.mc(1,d,2,1,"div",21),s.Kb()),2&e){const e=t.$implicit,n=s.Xb();s.yb(1),s.ec("ngIf",n.expenseForm.get("concept").hasError(e.type)&&(n.expenseForm.get("concept").dirty||n.expenseForm.get("concept").touched))}}function f(e,t){if(1&e&&(s.Nb(0,"div",22),s.nc(1),s.Mb()),2&e){const e=s.Xb().$implicit;s.yb(1),s.pc(" ",e.message," ")}}function h(e,t){if(1&e&&(s.Lb(0),s.mc(1,f,2,1,"div",21),s.Kb()),2&e){const e=t.$implicit,n=s.Xb();s.yb(1),s.ec("ngIf",n.expenseForm.get("amount").hasError(e.type)&&(n.expenseForm.get("amount").dirty||n.expenseForm.get("amount").touched))}}let g=(()=>{class e{constructor(e,t,n,o,s,a,c){this.formBuilder=e,this.alertController=t,this.eventorService=n,this.expensesService=o,this.alertService=s,this.authSvc=a,this.modalCtrl=c,this.validation_messages={concept:[{type:"required",message:"El concepto es requerido."}],amount:[{type:"required",message:"El monto es requerido."}]},this.expenseForm=this.formBuilder.group({concept:new i.b("",i.m.compose([i.m.required])),amount:new i.b("",i.m.compose([i.m.required])),description:new i.b("",i.m.compose([])),createdAt:new i.b(r().format("ll")),updatedAt:new i.b(r().format("llll"))})}ngOnDestroy(){window.history.state.modal&&history.back()}dismissModal(){console.log("dismissModal"),this.modalCtrl.dismiss()}ngOnInit(){}alertConfirm(e){return Object(o.a)(this,void 0,void 0,(function*(){const t=yield this.alertController.create({cssClass:"my-custom-class",header:"Confirmar!",message:"Registrar <strong>nuevo gasto</strong>",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:e=>{}},{text:"Ok",handler:()=>{console.log("createGasto: ",e),this.createExpense(e)}}]});yield t.present()}))}createExpense(e){return Object(o.a)(this,void 0,void 0,(function*(){console.log("expense: ",e),e.createdBy=this.authSvc.getLoggedUser().uid,e.adminId=this.authSvc.getLoggedUser().createdBy?this.authSvc.getLoggedUser().createdBy:this.authSvc.getLoggedUser().uid,yield this.expensesService.createNewExpense(e).then(e=>{console.log("res: ",e)}),this.dismissModal()}))}}return e.\u0275fac=function(t){return new(t||e)(s.Ib(i.a),s.Ib(a.b),s.Ib(c.a),s.Ib(l.a),s.Ib(u.a),s.Ib(m.a),s.Ib(a.T))},e.\u0275cmp=s.Cb({type:e,selectors:[["app-new-expense"]],hostBindings:function(e,t){1&e&&s.Vb("popstate",(function(e){return t.dismissModal(e)}),!1,s.ic)},decls:44,vars:4,consts:[["slot","end"],["color","primary",3,"click"],["fullscreen",""],[1,"new-expense-page",3,"formGroup","ngSubmit"],[1,"ios","hydrated"],["formControlName","concept","placeholder","Seleccionar"],["value","Gasolina"],["value","Almuerzo"],["value","Recarga Celular"],["value","Pago de Nomina"],["value","Taller"],["value","Otros"],[1,"validation-errors"],[4,"ngFor","ngForOf"],["position","floating","color","primary"],["type","number","formControlName","amount"],["size","small","name","cash-outline","color","primary","slot","end",1,"ion-align-self-center"],["type","text","formControlName","description"],["size","small","name","reader-outline","color","primary","slot","end",1,"ion-align-self-center"],[1,"ion-text-center"],["fill","outline","expand","round","type","submit",3,"disabled"],["class","error-message ion-padding-start",4,"ngIf"],[1,"error-message","ion-padding-start"]],template:function(e,t){1&e&&(s.Nb(0,"ion-header"),s.Nb(1,"ion-toolbar"),s.Nb(2,"ion-title"),s.nc(3,"Cargar Gasto"),s.Mb(),s.Nb(4,"ion-buttons",0),s.Nb(5,"ion-button",1),s.Vb("click",(function(){return t.dismissModal()})),s.nc(6,"Cerrar"),s.Mb(),s.Mb(),s.Mb(),s.Mb(),s.Nb(7,"ion-content",2),s.Nb(8,"form",3),s.Vb("ngSubmit",(function(){return t.createExpense(t.expenseForm.value)})),s.Nb(9,"ion-list-header",4),s.nc(10," Informaci\xf3n del Gasto "),s.Mb(),s.Nb(11,"ion-item"),s.Nb(12,"ion-label"),s.nc(13,"Concepto"),s.Mb(),s.Nb(14,"ion-select",5),s.Nb(15,"ion-select-option",6),s.nc(16,"Gasolina"),s.Mb(),s.Nb(17,"ion-select-option",7),s.nc(18,"Almuerzo"),s.Mb(),s.Nb(19,"ion-select-option",8),s.nc(20,"Recarga Celular"),s.Mb(),s.Nb(21,"ion-select-option",9),s.nc(22,"Pago de Nomina"),s.Mb(),s.Nb(23,"ion-select-option",10),s.nc(24,"Taller"),s.Mb(),s.Nb(25,"ion-select-option",11),s.nc(26,"Otros"),s.Mb(),s.Mb(),s.Mb(),s.Nb(27,"div",12),s.mc(28,p,2,1,"ng-container",13),s.Mb(),s.Nb(29,"ion-item"),s.Nb(30,"ion-label",14),s.nc(31,"Monto: "),s.Mb(),s.Jb(32,"ion-input",15),s.Jb(33,"ion-icon",16),s.Mb(),s.Nb(34,"div",12),s.mc(35,h,2,1,"ng-container",13),s.Mb(),s.Nb(36,"ion-item"),s.Nb(37,"ion-label",14),s.nc(38,"Descripci\xf3n: "),s.Mb(),s.Jb(39,"ion-input",17),s.Jb(40,"ion-icon",18),s.Mb(),s.Nb(41,"div",19),s.Nb(42,"ion-button",20),s.nc(43,"Guardar"),s.Mb(),s.Mb(),s.Mb(),s.Mb()),2&e&&(s.yb(8),s.ec("formGroup",t.expenseForm),s.yb(20),s.ec("ngForOf",t.validation_messages.concept),s.yb(7),s.ec("ngForOf",t.validation_messages.amount),s.yb(7),s.ec("disabled",t.expenseForm.invalid))},directives:[a.s,a.Q,a.P,a.i,a.h,a.p,i.n,i.i,i.d,a.C,a.v,a.A,a.I,a.X,i.h,i.c,a.J,b.k,a.u,a.U,a.t,a.Y,b.l],styles:[""]}),e})()}}]);